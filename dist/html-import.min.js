(function(){"use strict";window.HTMLImportElement=window.HTMLImportElement||function(){"use strict";function a(){return new Promise((u)=>setTimeout(u,0))}function b(u){return"[object HTMLScriptElement]"===Object.prototype.toString.call(u)}function c(u){return"[object HTMLTemplateElement]"===Object.prototype.toString.call(u)}function d(u,v){if(b(u))e(u,v);else for(let w of u.children)d(w,u)}function e(u,v){const w=document.createElement("script");f(u,w),w.text=u.text,u.src&&(w.src=u.src),v.removeChild(u)}function f(u,v){if(u.parentNode)return u.parentNode.insertBefore(v,u.nextSibling)}function g(u){return u.split("#")[0]}function h(u){return u.split("#")[1]}function i(u){u=g(u);const v=p.get(u);if(v)return v;const w=window.fetch(u).then((y)=>y.text());return p.set(u,w),w}function j(u,v,w,y,z,A){let B=u.getElementById(v);if(B||(B=k(u,v)),!B)throw new Error(`Could not find element #${v} in ${g(A)}`);if(z&&!B.matches(z))throw new Error(`Could not find element #${v} matching selector "${z}" in ${g(A)}`);return c(B)&&B.content?m(B.content):(B=B.cloneNode(!0),w?B.id=w:!0===y&&B.removeAttribute("id"),document.importNode(B,!0))}function k(u,v){const w=u.querySelectorAll("template");for(let y of w){const z=y.content.getElementById(v);if(z)return z}}function l(u,v){return m(u.body,v)}function m(u,v){if(!u)throw new Error("Missing sourceElement");const w=document.createDocumentFragment(),y=u.children;for(let z of y)if(!v||z.matches(v)){const A=document.importNode(z,!0);w.appendChild(A)}return w}function n(u){const v=[];for(let w of u){const y=a().then(()=>w.ready);v.push(y)}return Promise.all(v)}function o(u,v,w,y,z,A){const B=new DOMParser,C=B.parseFromString(u,"text/html");return v?j(C,v,w,y,z,A):l(C,z)}const p=new Map,q=Symbol(),r=Symbol(),s=Symbol();class t extends HTMLElement{get ready(){return this[q]}set ready(u){}get src(){return this.getAttribute("src")}set src(u){}get as(){return this.getAttribute("as")}set as(u){}get selector(){return this.getAttribute("selector")}set selector(u){}constructor(u){return u=super(u),u[q]=new Promise((v,w)=>{u[r]=v,u[s]=w}),u}connectedCallback(){const u=this.hasAttribute("src");if(!u)return this[s](new Error("The 'src' attribute is required"));const v=this.getAttribute("src");if(!v)return this[s](new Error("The 'src' attribute is empty"));const w=h(v),y=this.getAttribute("as");this[r](i(v).then((A)=>o(A,w,y,""===y,this.selector,v)).then((A)=>{var B=A.querySelectorAll("html-import");return d(A,this),f(this,A),n(B)}))}}return customElements.define("html-import",t),t}()})();
